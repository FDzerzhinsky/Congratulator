# keyboards.py
from telegram import InlineKeyboardButton, InlineKeyboardMarkup
from config import PAGE_SIZE
from database import Department, Employee

def admin_main_menu() -> InlineKeyboardMarkup:
    """Ğ“Ğ»Ğ°Ğ²Ğ½Ğ¾Ğµ Ğ¼ĞµĞ½Ñ Ğ°Ğ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€Ğ°"""
    return InlineKeyboardMarkup([
        [InlineKeyboardButton("â• Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ¾Ñ‚Ğ´ĞµĞ»", callback_data="add_department"),
         InlineKeyboardButton("ğŸ‘¥ Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ ÑĞ¾Ñ‚Ñ€ÑƒĞ´Ğ½Ğ¸ĞºĞ°", callback_data="add_employee")],  # ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒÑ‚Ğµ callback_data
        [InlineKeyboardButton("ğŸ“‚ ĞŸÑ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€ĞµÑ‚ÑŒ Ğ¾Ñ‚Ğ´ĞµĞ»Ñ‹", callback_data="view_departments_1")]
    ])

def department_pagination(page: int, total: int) -> list:
    """ĞšĞ½Ğ¾Ğ¿ĞºĞ¸ Ğ¿Ğ°Ğ³Ğ¸Ğ½Ğ°Ñ†Ğ¸Ğ¸ Ğ´Ğ»Ñ ÑĞ¿Ğ¸ÑĞºĞ° Ğ¾Ñ‚Ğ´ĞµĞ»Ğ¾Ğ²"""
    buttons = []
    if page > 1:
        buttons.append(InlineKeyboardButton("â¬…ï¸ ĞĞ°Ğ·Ğ°Ğ´", callback_data=f"view_departments_{page-1}"))
    if page * PAGE_SIZE < total:
        buttons.append(InlineKeyboardButton("Ğ’Ğ¿ĞµÑ€ĞµĞ´ â¡ï¸", callback_data=f"view_departments_{page+1}"))
    return buttons

def employee_details_keyboard(emp_id: int, is_admin: bool) -> InlineKeyboardMarkup:
    """ĞšĞ»Ğ°Ğ²Ğ¸Ğ°Ñ‚ÑƒÑ€Ğ° Ğ´Ğ»Ñ Ğ´ĞµÑ‚Ğ°Ğ»ĞµĞ¹ ÑĞ¾Ñ‚Ñ€ÑƒĞ´Ğ½Ğ¸ĞºĞ°"""
    buttons = []
    if is_admin:
        buttons.extend([
            [InlineKeyboardButton("âœï¸ Ğ ĞµĞ´Ğ°ĞºÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ", callback_data=f"edit_emp_{emp_id}")],
            [InlineKeyboardButton("ğŸ—‘ï¸ Ğ£Ğ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ", callback_data=f"del_emp_{emp_id}")]
        ])
    buttons.append([InlineKeyboardButton("ğŸ”™ ĞĞ°Ğ·Ğ°Ğ´", callback_data="back_to_department")])
    return InlineKeyboardMarkup(buttons)

def user_main_menu(user_id: int) -> InlineKeyboardMarkup:
    return InlineKeyboardMarkup([
        [InlineKeyboardButton("ğŸ‘¥ ĞœĞ¾Ğ¸ ÑĞ¾Ñ‚Ñ€ÑƒĞ´Ğ½Ğ¸ĞºĞ¸", callback_data="view_my_department")]
    ])